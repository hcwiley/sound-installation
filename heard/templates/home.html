{% extends 'default.html' %}
{% block google_map %}
<div id="map_canvas" style="width:100%; height:100%">
</div>
<script type='text/javascript'>
    initialize(30.4141229817, -91.1773262024, false);
</script>
{% endblock %}
{% block container %}
<div id='all-sounds'>
    {% for a in artists %}
    {% for s in a.piece_set.all %}
        <script type='text/javascript'>
			var ll = new google.maps.LatLng({{ s.location.lat }}, {{ s.location.long }});
			icon = new google.maps.MarkerImage('{{ s.default_image.thumb }}', new google.maps.Size(50,50));
			if( icon.url !== ''){
            sound = new google.maps.Marker({
                position: ll,
                map: map,
				icon: icon,
                draggable: false,
            });
			}
			else{
			sound = new google.maps.Marker({
                position: ll,
                map: map,
                draggable: false,
            });
			}
			google.maps.event.addListener(sound, 'click', function(){
				$(document).mouseup(function(event){
					$('.marker-feed-back').css('z-index','-1');
					$('#{{ s.pk }}').css('z-index','10');
					jingleAnimate('#{{ s.pk }}', event.pageX, event.pageY);
				});
			});
        </script>
		<div id='{{ s.pk }}' class='marker-feed-back' class='rounded-corners-all filler'>
        <p>
            {{ a }}
        </p>
        <p>
            <a href='{{ s.slug }}'>{{ s }}</a>
        </p>
    </div>
    {% endfor %}
    {% endfor %}
</div>
{% endblock %}